<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Password Request BATCH 4-JV</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  padding: 20px;
}
.container {
  max-width: 420px;
  margin: auto;
  background: #ffffff;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
h2 {
  text-align: center;
  margin-bottom: 20px;
}
label {
  font-weight: bold;
}
input[type="text"] {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  margin-bottom: 15px;
  border: 1px solid #ccc;
  border-radius: 5px;
  text-transform: uppercase;
}
.consent {
  font-size: 13px;
  margin-bottom: 15px;
}
.consent input {
  margin-right: 5px;
}
button {
  width: 100%;
  padding: 12px;
  background: #25D366;
  color: white;
  border: none;
  border-radius: 5px;
  font-size: 16px;
  cursor: not-allowed;
  opacity: 0.6;
}
button.enabled {
  cursor: pointer;
  opacity: 1;
}
.note {
  font-size: 12px;
  color: #666;
  text-align: center;
  margin-top: 10px;
}
</style>
</head>

<body>

<div class="container">
  <h2>üîê Password Request BATCH 4-JV</h2>

  <form onsubmit="return validateAndSend();">
    <label>Company Name</label>
    <input type="text" id="company" required>

    <label>Director Name</label>
    <input type="text" id="director" required>

    <label>Company Reg. No</label>
    <input type="text" id="regno" required>

    <div class="consent">
      <input type="checkbox" id="consent" onclick="toggleButton()">
      <span>
        By providing the details above, I hereby confirm that I am the authorized
        recipient to request or to receive this password.
      </span>
    </div>

    <button type="submit" id="sendBtn" disabled>Send Request</button>
  </form>

  <div class="note">
    Request will be sent via WhatsApp
  </div>
</div>

<script>
function toggleButton() {
  var consent = document.getElementById("consent");
  var btn = document.getElementById("sendBtn");

  if (consent.checked) {
    btn.disabled = false;
    btn.classList.add("enabled");
  } else {
    btn.disabled = true;
    btn.classList.remove("enabled");
  }
}

function generateReference() {
  var now = new Date();
  var y = now.getFullYear();
  var m = String(now.getMonth() + 1).padStart(2, '0');
  var d = String(now.getDate()).padStart(2, '0');
  var h = String(now.getHours()).padStart(2, '0');
  var min = String(now.getMinutes()).padStart(2, '0');
  var s = String(now.getSeconds()).padStart(2, '0');

  return "JV4-" + y + m + d + "-" + h + min + s;
}

function validateAndSend() {
  if (!document.getElementById("consent").checked) {
    alert("Please confirm authorization before sending.");
    return false;
  }
  sendWhatsApp();
  return false;
}

function sendWhatsApp() {
  var company = document.getElementById("company").value.toUpperCase();
  var director = document.getElementById("director").value.toUpperCase();
  var regno = document.getElementById("regno").value.toUpperCase();

  var now = new Date();
  var datetime = now.toLocaleString();
  var ref = generateReference();

  var message =
    "üîê PASSWORD REQUEST BATCH 4-JV\n\n" +
    "Company Name : " + company + "\n" +
    "Director Name : " + director + "\n" +
    "Company Reg. No : " + regno + "\n" +
    "Time : " + datetime + "\n\n" +
    "Consent:\n" +
    "By providing the details above, I hereby confirm that I am the authorized " +
    "recipient to request or to receive this password.\n\n" +
    "(Reference:)" + ref;

  var whatsappNumber = "60176701984"; // ‚¨ÖÔ∏è TUKAR NO AWAK
  var url = "https://wa.me/" + whatsappNumber + "?text=" + encodeURIComponent(message);

  window.open(url, "_blank");
}
</script>

</body>
</html>

